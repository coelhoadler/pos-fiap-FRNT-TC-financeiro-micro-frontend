<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Root Config</title>
  <script src="https://cdn.jsdelivr.net/npm/systemjs/dist/system.min.js"></script>
  <script type="systemjs-importmap" src="./importmap.json"></script>
</head>
<body>
   <h1>Root-config carregado ‚úÖ</h1>
  <div id="container"></div>
  <script>
    System.import('home')
    .then(() => console.log('[Root-config] ‚úÖ Microfrontend Home carregado com sucesso'))
    .catch((err) => console.error('[Root-config] ‚ùå Falha ao carregar Home', err));
  </script>

  <script>
    window.addEventListener('single-spa:before-mount-routing-event', () => {
      console.log('[Root-config] üîÑ Antes de montar qualquer microfrontend');
    });

    window.addEventListener('single-spa:app-change', (evt) => {
      console.log(`[Root-config] üî• Microfrontend mudou:`, evt.detail);
    });

    window.addEventListener('single-spa:routing-event', () => {
      console.log('[Root-config] üì¶ Routing event');
    });

    window.addEventListener('single-spa:before-app-change', (evt) => {
      console.log(`[Root-config] ‚öôÔ∏è Antes de mudar:`, evt.detail.newAppStatuses);
    });

    window.addEventListener('single-spa:app-change', (evt) => {
      console.log(`[Root-config] üöÄ Microfrontend carregado:`, evt.detail);
    });

    window.addEventListener('error', (err) => {
      console.error('[Root-config] ‚ùå Error geral capturado:', err);
    });

    window.addEventListener('unhandledrejection', (err) => {
      console.error('[Root-config] ‚ùå Promise n√£o tratada:', err);
    });
</script>

</body>
</html>
